import{j as e}from"./index-DngLVFUg.js";import{k as I,l as B,d as M,h as N,m as k}from"./index-BflDdoZd.js";import{P as x,N as p,c as b,r as T,d as j,p as v,a as A,b as g,m,y as C,i as E}from"./SellingPlanFormUtils--Vx-jCCt.js";import{D as S}from"./datepicker-DcG04ooy.js";import{b as O}from"./ConfirmationModal-kSWVoL_X.js";import{a as h}from"./index-xIj4AxVg.js";const R={planName:"2 Week Subscription",showDescription:!1,descriptionContent:"",category:"SUBSCRIPTION",pricingPolicyEnable:!0,pricingPolicyAdjustmentType:"PERCENTAGE",pricingPolicyAdjustmentValue:10,pricingPolicyAfterCycleEnable:!1,pricingPolicyAfterCycle:0,pricingPolicyAfterCycleAdjustmentType:"PERCENTAGE",pricingPolicyAfterCycleAdjustmentValue:0,inventoryPolicyEnable:!0,inventoryPolicyReserve:"ON_FULFILLMENT",deliveryPolicyEnable:!0,deliveryPolicyAnchorsCutoffDay:2,deliveryPolicyAnchorsDay:1,deliveryPolicyAnchorsMonth:1,deliveryPolicyAnchorsType:"WEEKDAY",deliveryPolicyCutoff:2,deliveryPolicyFulfillmentExactTime:"",deliveryPolicyFulfillmentTrigger:"ASAP",deliveryPolicyIntent:"FULFILLMENT_BEGIN",deliveryPolicyPreAnchorBehavior:"ASAP",deliveryRecurringPolicyEnable:!0,preAnchorBehavior:"ASAP",deliveryRecurringPolicyAnchorsCutoffDay:1,deliveryRecurringPolicyAnchorsDay:1,deliveryRecurringPolicyAnchorsMonth:1,deliveryRecurringPolicyAnchorsType:"WEEKDAY",deliveryRecurringPolicyCutoff:1,deliveryRecurringPolicyIntent:"FULFILLMENT_BEGIN",deliveryRecurringPolicyInterval:"WEEK",deliveryRecurringPolicyIntervalCount:1,deliveryRecurringPreAnchorBehavior:"ASAP",billingRecurringPolicyEnable:!0,billingRecurringPolicyInterval:"WEEK",billingRecurringPolicyIntervalCount:2,billingRecurringPolicyMinCycles:0,billingRecurringPolicyMaxCycles:0,billingRecurringPolicyAnchorsCutoffDay:1,billingRecurringPolicyAnchorsDay:1,billingRecurringPolicyAnchorsMonth:1,billingRecurringPolicyAnchorsType:"WEEKDAY"},z={...R,category:"PRE_ORDER"},Z={groupName:"Pay Per Shipment Plan Group",sellingPlansToCreate:[R]},$={enable:!1,planName:"",pricingPolicyEnable:!0,pricingPolicyAdjustmentType:"PERCENTAGE",pricingPolicyAdjustmentValue:10,inventoryPolicyEnable:!1,inventoryPolicyReserve:"ON_FULFILLMENT",deliveryPolicyEnable:!1,deliveryPolicyAnchorsCutoffDay:0,deliveryPolicyAnchorsDay:1,deliveryPolicyAnchorsMonth:0,deliveryPolicyAnchorsType:"MONTHDAY",deliveryPolicyCutoff:0,deliveryPolicyFulfillmentExactTime:new Date().toISOString(),deliveryPolicyFulfillmentTrigger:"ASAP",deliveryPolicyIntent:"FULFILLMENT_BEGIN",deliveryPolicyPreAnchorBehavior:"ASAP",preAnchorBehavior:"ASAP",billingPolicyEnable:!1,billingPolicyCheckoutChargeType:"PERCENTAGE",billingPolicyCheckoutChargeValue:100,billingPolicyRemainingBalanceChargeExactTime:"",billingPolicyRemainingBalanceChargeTimeAfterCheckout:"",billingPolicyRemainingBalanceChargeTrigger:"NO_REMAINING_BALANCE"};var o={};(function(n){var i=I;Object.defineProperty(n,"Select",{enumerable:!0,get:function(){return i.a}})})(o);var P={};(function(n){var i=B;Object.defineProperty(n,"Switch",{enumerable:!0,get:function(){return i.a}})})(P);const F=({pricingPolicyEnable:n,pricingPolicyAdjustmentType:i,pricingPolicyAdjustmentValue:c,onToggleDiscount:u,onChangePricingPolicyAdjustmentType:t,onChangePricingPolicyAdjustmentValue:y})=>e.jsxs("div",{children:[e.jsx(P.Switch,{checked:n,onChange:u,label:"Offer a discount"}),n&&e.jsxs("div",{className:"flex gap-4 mt-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(o.Select,{value:x.find(d=>d.value===i),options:x,onChange:d=>d&&t(d.value),label:"Discount Type"})}),e.jsx("div",{className:"flex-1",children:e.jsx(p,{label:i==="PERCENTAGE"?"Discount value":"Set Price",value:c??0,onChange:y,percent:!0})})]})]}),w=({value:n,onChange:i,productTitle:c})=>e.jsx(M.Input,{label:"Plan Name",value:n||c,onChange:i,placeholder:"Enter plan name"}),L=({currentPlan:n,onChange:i})=>{const{billingPolicyEnable:c,billingPolicyCheckoutChargeType:u,billingPolicyCheckoutChargeValue:t,billingPolicyRemainingBalanceChargeTrigger:y,billingPolicyRemainingBalanceChargeExactTime:d,billingPolicyRemainingBalanceChargeTimeAfterCheckout:a}=n;return e.jsxs("div",{className:"pt-3 border-t-2",children:[e.jsxs("div",{children:[e.jsx(P.Switch,{checked:c,onChange:()=>i("billingPolicyEnable",!c),label:"Set Billing Policy"}),e.jsx(N.Text,{children:"If not set, it will treat as a normal order"})]}),c&&e.jsxs("div",{className:"flex gap-4 mt-3 flex-wrap",children:[e.jsx("div",{className:"flex-1 w-[50%]",children:e.jsx(o.Select,{value:b.find(r=>r.value===u),options:b,onChange:r=>r&&i("billingPolicyCheckoutChargeType",r.value),label:"Checkout Charge Type"})}),e.jsx("div",{className:"flex-1 w-[50%]",children:e.jsx(p,{label:"Set Value",value:t??0,onChange:r=>i("billingPolicyCheckoutChargeValue",r),percent:!0})}),u==="PERCENTAGE"&&t<100&&e.jsx("div",{className:"w-[100%]",children:e.jsx(o.Select,{value:T.find(r=>r.value===y),options:T,onChange:r=>r&&i("billingPolicyRemainingBalanceChargeTrigger",r.value),label:"Remaining Balance Charge Trigger"})}),y==="EXACT_TIME"&&e.jsx("div",{className:"flex-1",children:e.jsx(S,{selected:d?new Date(d):null,onChange:r=>{const f=r?r.toISOString():null;i("billingPolicyRemainingBalanceChargeExactTime",f)},dateFormat:"yyyy-MM-dd'T'HH:mm:ss'Z'",placeholderText:"Select Date & Time",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"Time",popperPlacement:"bottom-end",showMonthYearPicker:!1,inputProps:{variant:"text",inputClassName:"rizzui-input-container flex items-center peer w-full transition duration-200 [&.is-focus]:ring-[0.8px] ring-[0.6px] [&.is-hover]:border-primary [&.is-focus]:border-primary [&.is-focus]:ring-primary [&_input::placeholder]:opacity-60 px-3.5 py-2 text-sm h-10 rounded-md border border-muted ring-muted bg-transparent",label:"Select Date Time"},className:"w-full"})}),y==="TIME_AFTER_CHECKOUT"&&e.jsx(p,{label:"Remaining Balance Charge Time After Checkout",value:parseInt(a.replace(/\D/g,""),10)||"",onChange:r=>i("billingPolicyRemainingBalanceChargeTimeAfterCheckout",`P${r}${a.slice(-1)||"D"}`),suffix:e.jsx(o.Select,{options:[{value:"D",label:"Days"},{value:"W",label:"Weeks"},{value:"M",label:"Months"},{value:"Y",label:"Years"}],value:{value:a.slice(-1)||"D",label:a.slice(-1)==="D"?"Days":a.slice(-1)==="W"?"Weeks":a.slice(-1)==="M"?"Months":"Years"},onChange:r=>r&&i("billingPolicyRemainingBalanceChargeTimeAfterCheckout",`P${parseInt(a.replace(/\D/g,""),10)||1}${r.value}`)})})]})]})},_=({currentPlan:n,onChange:i})=>{const{deliveryPolicyFulfillmentTrigger:c,deliveryPolicyFulfillmentExactTime:u,preAnchorBehavior:t,deliveryPolicyAnchorsType:y,deliveryPolicyAnchorsDay:d,deliveryPolicyAnchorsCutoffDay:a,deliveryPolicyAnchorsMonth:r,deliveryPolicyCutoff:f}=n;return e.jsxs("div",{className:"pt-3 w-full",children:[e.jsx(N.Text,{children:"Set Delivery Policy"}),e.jsx("div",{className:"flex gap-4 mt-3",children:e.jsx("div",{className:"flex-1",children:e.jsx(o.Select,{value:j.find(l=>l.value===c),options:j,onChange:l=>l&&i("deliveryPolicyFulfillmentTrigger",l.value),label:"What triggers the fulfillment."})})}),c==="EXACT_TIME"&&e.jsxs("div",{className:"flex gap-4 mt-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(S,{selected:u?new Date(u):null,onChange:l=>{const D=l?l.toISOString():null;i("deliveryPolicyFulfillmentExactTime",D)},dateFormat:"yyyy-MM-dd'T'HH:mm:ss'Z'",placeholderText:"Select Date & Time",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"Time",popperPlacement:"bottom-end",showMonthYearPicker:!1,inputProps:{variant:"text",inputClassName:"rizzui-input-container flex items-center peer w-full transition duration-200 [&.is-focus]:ring-[0.8px] ring-[0.6px] [&.is-hover]:border-primary [&.is-focus]:border-primary [&.is-focus]:ring-primary [&_input::placeholder]:opacity-60 px-3.5 py-2 text-sm h-10 rounded-md border border-muted ring-muted bg-transparent",label:"Select Date Time"},className:"w-full"})}),e.jsx("div",{className:"flex-1",children:e.jsx(o.Select,{value:v.find(l=>l.value===t),options:v,onChange:l=>l&&i("preAnchorBehavior",l.value),label:"The pre-anchor behavior."})})]}),c==="ANCHOR"&&e.jsxs("div",{className:"flex flex-col gap-4 mt-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(o.Select,{value:A.find(l=>l.value===y),options:A,onChange:l=>l&&i("deliveryPolicyAnchorsType",l.value),label:"When Should Delivery Be Scheduled?"})}),y=="WEEKDAY"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"",children:e.jsx(o.Select,{value:g.find(l=>l.value===d),options:g,onChange:l=>l&&i("deliveryPolicyAnchorsDay",l.value),label:"Select Day"})}),e.jsx("div",{className:"",children:e.jsx(o.Select,{value:g.find(l=>l.value===a),options:g,onChange:l=>l&&i("deliveryPolicyAnchorsCutoffDay",l.value),label:"Cutfoff Time Interval"})})]}),y==="MONTHDAY"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(o.Select,{value:m.find(l=>l.value===r),options:m,onChange:l=>l&&i("deliveryPolicyAnchorsMonth",l.value),label:"Select Month"})}),e.jsx("div",{children:e.jsx(o.Select,{value:m.find(l=>l.value===a),options:m,onChange:l=>l&&i("deliveryPolicyAnchorsCutoffDay",l.value),label:"Cutfoff Time Interval"})})]}),y=="YEARDAY"&&e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsx(o.Select,{value:C.find(l=>l.value===d),options:C,onChange:l=>l&&i("deliveryPolicyAnchorsDay",l.value),label:"Select Day"})}),e.jsx("div",{className:"flex flex-col gap-4 mt-3",children:e.jsx("div",{className:"flex-1",children:e.jsx(o.Select,{value:v.find(l=>l.value===t),options:v,onChange:l=>l&&i("preAnchorBehavior",l.value),label:"The pre-anchor behavior."})})})]})]})},W=({inventoryPolicyEnable:n,inventoryPolicyReserve:i,onToggleInventory:c,onChangeInventoryReserve:u})=>e.jsxs("div",{children:[e.jsx(P.Switch,{checked:n,onChange:c,label:"Set Inventory Policy"}),n&&e.jsx("div",{className:"flex gap-4 mt-3",children:e.jsx("div",{className:"flex-1",children:e.jsx(o.Select,{value:E.find(t=>t.value===i),options:E,onChange:t=>t&&u(t.value),label:"When to reserve inventory for the order."})})})]});var s={};(function(n){var i=k;Object.defineProperty(n,"Tab",{enumerable:!0,get:function(){return i.a}})})(s);const J=({currentPlan:n,onChange:i,onSave:c,productTitle:u,tabListClassName:t="w-[21%]",tabPanelClassName:y="w-[79%]",saveButtonProps:d={}})=>e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs(s.Tab,{vertical:!0,onPointerDown:a=>a.stopPropagation(),onClick:a=>a.stopPropagation(),children:[e.jsxs(s.Tab.List,{className:t,children:[e.jsx(s.Tab.ListItem,{children:"Basic"}),e.jsx(s.Tab.ListItem,{children:"Pricing Policy"}),e.jsx(s.Tab.ListItem,{children:"Inventory Policy"}),e.jsx(s.Tab.ListItem,{children:"Delivery Policy"}),e.jsx(s.Tab.ListItem,{children:"Billing Policy"})]}),e.jsxs(s.Tab.Panels,{className:y,children:[e.jsx(s.Tab.Panel,{children:e.jsx(w,{value:n.planName||"",onChange:a=>i("planName",a.target.value),productTitle:u})}),e.jsx(s.Tab.Panel,{children:e.jsx(F,{pricingPolicyEnable:n.pricingPolicyEnable,pricingPolicyAdjustmentType:n.pricingPolicyAdjustmentType,pricingPolicyAdjustmentValue:n.pricingPolicyAdjustmentValue,onToggleDiscount:()=>i("pricingPolicyEnable",!n.pricingPolicyEnable),onChangePricingPolicyAdjustmentType:a=>i("pricingPolicyAdjustmentType",a),onChangePricingPolicyAdjustmentValue:a=>i("pricingPolicyAdjustmentValue",a)})}),e.jsx(s.Tab.Panel,{children:e.jsx(W,{inventoryPolicyEnable:n.inventoryPolicyEnable,inventoryPolicyReserve:n.inventoryPolicyReserve,onToggleInventory:()=>i("inventoryPolicyEnable",!n.inventoryPolicyEnable),onChangeInventoryReserve:a=>i("inventoryPolicyReserve",a)})}),e.jsx(s.Tab.Panel,{children:e.jsx(_,{currentPlan:n,onChange:i})}),e.jsx(s.Tab.Panel,{children:e.jsx(L,{currentPlan:n,onChange:i})})]})]}),e.jsx(O.Button,{onPointerDown:a=>a.stopPropagation(),onClick:a=>{a.stopPropagation(),c()},...d,children:"Save Plan"})]}),Q=h([]);h([]);const X=h([]);h([]);const q=h();export{J as O,P as _,R as a,Z as b,q as c,$ as d,X as e,z as f,Q as p,o as s,s as t};
